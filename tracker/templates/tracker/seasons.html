{% extends "tracker/layout.html" %}
{% load static %}

{% block title %}
    {{ media.name }}
{% endblock %}

{% block body %}
    {% for season in media.seasons %}
        <button type="button" class="btn btn-dark buttons" style="margin-top: 7px;" id="{{ season.season_number }}">Season {{ season.season_number }}</button>
    {% endfor %}
    <hr/>
    {% for season in media.seasons %}
    <div class="season_div" id="season{{ season.season_number }}" style="display: none;">


        <div class="info-container">
            {% if season.poster_path %}
                <img src="https://image.tmdb.org/t/p/w342{{ season.poster_path }}" class="figure-img img-fluid rounded shadow" alt="Poster" style="display: inline;">
            {% else %}
                <div class="card no-poster-info">
                  <div class="card-body" style="text-align: center;">
                    <i>No Poster</i>
                  </div>
                </div>
            {% endif %}
          
            <div class="card info-card">
                <div class="card-body">
                    <h2 class="inline">Season {{ season.season_number }}</h2>
                    
                    <dl class="row">
                        {% if season.air_date %}
                        <dt class="col-sm-2">Air date:</dt>
                        <dd class="col-sm-10">{{ season.air_date }}</dd>
                        {% endif %}
            
                        {% if season.episode_count %}
                        <dt class="col-sm-2">No. Episodes:</dt>
                        <dd class="col-sm-10">{{ season.episode_count }}</dd>
                        {% endif %}
                    </dl>
                </div>
            </div>
        </div>

        <div id="acc{{ season.season_number }}" class="accordion accordion-flush" id="accordionFlushExample">
        </div>
    </div>
    {% endfor %}
{% endblock %}

{% block script %}
    <script src="{% static 'tracker/confid.js' %}"></script>
    <script src="{% static 'tracker/seasons.js' %}"></script>
{% endblock %}